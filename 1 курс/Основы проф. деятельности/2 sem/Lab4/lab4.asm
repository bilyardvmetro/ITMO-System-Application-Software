ORG 0x1EB
START:		CLA
		ST RES
		LD X
		PUSH
		CALL $FUNC
		POP
		SUB RES
		ST RES
		LD Z
		DEC
		PUSH
		CALL $FUNC
		POP
		DEC
		SUB RES
		ST RES
		LD Y
		DEC
		PUSH
		CALL $FUNC
		POP
		SUB RES
		ST RES
		HLT

Z:		WORD 22
Y:		WORD -82
X:		WORD -3200
RES:		WORD 0

ORG 0x663
FUNC:		LD &1
		BEQ SEC_CHECK
		BPL EXIT
SEC_CHECK:	CMP A
		BLT EXIT
		BEQ EXIT
		ADD &1
		ADD B
		JUMP RETURN
EXIT:		LD A
RETURN:		ST &1
		RET
A:		WORD 0xF38F
B:		WORD 0x00A4
